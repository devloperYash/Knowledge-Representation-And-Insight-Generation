{% extends "output.html" %}

{% block content %}
<br>
<div class="container-insight">
    <h1 class="h1-insight"><b>INSIGHTS GENERATION</b></h1>
    {% if error %}
        <div class="row">
            <div class="col-lg-12 table-responsive">
                <p style="color: red;">Error: {{ error }}</p>
            </div>
        </div>
    {% else %}
        <div class="row">
            <div class="col-lg-12 table-responsive">
                <h3 class="h3-insight">Generated Insights</h3>
                <p>{{ insights }}</p>
            </div>
        </div>

        <div class="row">
            <div class="col-lg-12 table-responsive">
                <h3>Top Positive Correlations</h3>
                {{ top_positive_corr | safe }}
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12 table-responsive">
                <h3 class="h3-insight">Top Negative Correlations</h3>
                {{ top_negative_corr | safe }}
            </div>
        </div>

        <div class="row">
            <div class="col-lg-12 table-responsive">
                <h3 class="h1-insight">Distribution of Key Features</h3>
                {% for img in key_image %}
                    <img src="{{ img }}" alt="Key Feature Distribution">
                {% endfor %}
            </div>
        </div>
    {% endif %}
</div>

{% endblock %}